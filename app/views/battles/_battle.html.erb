<tr>
  <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
    <%= time_ago_in_words(battle.battle_time) %> ago
  </td>
  <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
    <%= battle.mode.titleize %>
  </td>
  <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
    <%= battle.map %>
  </td>
  <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
    <div class="flex flex-wrap gap-2">
      <% battle.team_players.includes(:player, :brawler).each do |team_player| %>
        <div class="flex items-center gap-1" title="<%= team_player.player&.name || team_player.player_tag %>">
          <%= image_tag "https://cdn.brawlify.com/brawlers/borderless/#{team_player.brawler.brawl_stars_id}.png",
              class: "w-6 h-6 rounded-full",
              alt: team_player.brawler.name %>
          <% if team_player.is_star_player %>
            <span class="text-yellow-500">â˜…</span>
          <% end %>
        </div>
      <% end %>
    </div>
  </td>
  <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
    <%= link_to "Details", battle_path(battle), class: "text-indigo-600 hover:text-indigo-900" %>
  </td>
</tr> 